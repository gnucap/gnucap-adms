spice

.load ./vs.so

.verilog
paramset myvsauto vsauto;
	.voltage = 5;
endparamset

paramset myvsreal vsreal;
	.voltage = 5;
	.loss = 1e2;
endparamset

paramset myvsideal vsideal;
	.voltage = 5;
endparamset

myvsreal   v1 (nreal,0);
myvsideal  v2 (nideal,0);
myvsauto   v3 (nauto,0);
spice

.param rload=.1

r1 nreal 0 rload
r2 nideal 0 rload
r3 nauto 0 rload

.print dc v(nodes) v(v2.q) i(v1)
.print tran v(nodes) v(v2.q) i(v1)

.dc trace=i
.tran 0 1 1
.end
